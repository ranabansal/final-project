---
title: "Gov 1005 Final Project"
author: "Rana Bansal"
date: "10/17/2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(knitr)
library(scales)
comtrade <- read.csv(file = "indiaexports.csv", TRUE,",")
class(comtrade)
```

## Overview

My final project will be a visualization of Imports and Exports from India following the "demonetization" of the Indian rupee in November 2016. The dataset that I will be using is the United Nations COMTRADE database, which provides monthly import and export data for India from 2010 to 2018. 

## Example

For example, below is the export of live animals in India by month, with demonetization event marked by a line. We are interested in analyzing the period between the vertical lines. Other visualizations I plan to do are ones including mapping of export destinations and within country production mapping. 

```{r, echo = FALSE}
comtrade2 <- comtrade %>%
  mutate(period_string = paste(Period, sep='', '01')) %>%
  mutate(period_string = as.Date(period_string, format = "%Y%m%d")) %>%
  select(period_string, Commodity.Code, Commodity, Trade.Value..US..) %>%
  filter(Commodity.Code == 1)
  
  plot <- ggplot(comtrade2, aes(x = period_string, y = Trade.Value..US..)) + geom_point(shape = 0.5) + geom_line() + labs(x = "Month", y = "Total Export Value", title = paste("Export Value of", comtrade2[1,]$Commodity), subtitle = "2011 to 2018") + theme_minimal() + guides(color = FALSE) + theme(text =element_text(size = 10)) + scale_x_date(labels = date_format("%Y-%m")) + geom_vline(xintercept=as.numeric(as.Date("Nov-08-16", format="%b-%d-%y")), linetype=4)+ geom_vline(xintercept=as.numeric(as.Date("Dec-30-17", format="%b-%d-%y")), linetype=4)
  
  plot
```